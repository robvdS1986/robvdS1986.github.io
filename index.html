<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <!--list of possible things to use-->
    <!--Use variable and index number to select a word from an array-->

    <!-- Background color of entire game and the canvas. Also size and position of canvas for hanging Danny-->
    <!-- and position buttons-->
    <style>
      body {
        background-color: cadetblue;
      }

      a {
        width: 150px;
        padding: 0px 10px 5px 10px;
        background-color: lightblue;
        color: seagreen;
        border: lightseagreen outset 1px;
        text-decoration: none;

      }

      button > div {
        pointer-events: none;
      }
      #ifWon {
        text-align: center;
        font: 2em sans-serif;
        background-color: lightblue;
        color: seagreen;
        width: 600px;
        height: 300px;
        margin-bottom: 400px;
      }
      #ifLost {
        text-align: center;
        font: 2em sans-serif;
        background-color: lightblue;
        color: seagreen;
        width: 600px;
        height: 300px;
        margin-bottom: 400px;
      }

      #goed {
        padding: 80px;
        font-size: 50px;
      }

      #foutlives {
        margin: 0 auto;
        width: 250px;
        display: flex;
        align-items: flex-start;
      }

      #foutlives div {
        flex: 1;
        height: 120px;
        word-break: break-all;
      }

      #fout {
        background-color: white;
        border: black solid 1px;

        margin-bottom: 30px;
        margin-right: 20px;
      }

      #lives {
        background-color: white;
        border: black solid 1px;
        width: 70px;
      }

      .wrapper {
        width: 100%;
        text-align: center;
      }
      canvas {
        width: 300px;
        height: 300px;
        color: white;
        border: black solid 1px;

        background-color: white;
        padding: 15px;
      }

      button {
        font-size: 2em;
      }

      button:hover {
        background-color: orange;
      }

      button:focus {
        background-color: red;
      }

      #posButtons {
        display: inline-block;

        text-align: center;
        width: 600px;
      }

      #changeword {
        margin: 40px -17px;
        text-align: center;
        width: 600px;
      }
    </style>

    <!-- arrays for the alphabet, the categories and the words-->
    <dialog id="ifWon">
      <h1>YOU HAVE WON!!!</h1>
      <a href="https://robvds1986.github.io/">reset</a>
    </dialog>

    <dialog id="ifLost">
      <h1>YOU HAVE LOST!!!</h1>
      <a href="https://robvds1986.github.io/">reset</a> 
      <img src="BareGaseousBarasinga-size_restricted.gif" alt="laughing skull" style="width:60px;height:60px;">
    </dialog>


    <div class="wrapper">
      <div id="goed"></div>
      <canvas id="hangdanny"> </canvas><br /><br />
      <div id="foutlives">
        <div id="fout">
          <p>verkeerde letters:</p>
          <p id="vLetter"></p>
        </div>
        <div>
          <p id="lives"></p>
        </div>
      </div>
      <div id="posButtons" onclick="clickedLetter(event)" style="pointer-events: none;">
       
        <!-- Buttons to input the players guesses-->
        <!-- Inside a div-->

        <button id="letterA" style="pointer-events: auto;">A</button>
        <button id="letterB" style="pointer-events: auto;">B</button>
        <button id="letterC" style="pointer-events: auto;">C</button>
        <button id="letterD" style="pointer-events: auto;">D</button>
        <button id="letterE" style="pointer-events: auto;">E</button>
        <button id="letterF" style="pointer-events: auto;">F</button>
        <button id="letterG" style="pointer-events: auto;">G</button>
        <button id="letterH" style="pointer-events: auto;">H</button>
        <button id="letterI" style="pointer-events: auto;">I</button>
        <button id="letterJ" style="pointer-events: auto;">J</button>
        <button id="letterK" style="pointer-events: auto;">K</button>
        <button id="letterL" style="pointer-events: auto;">L</button>
        <button id="letterM" style="pointer-events: auto;">M</button>
        <button id="letterN" style="pointer-events: auto;">N</button>
        <button id="letterO" style="pointer-events: auto;">O</button>
        <button id="letterP" style="pointer-events: auto;">P</button>
        <button id="letterQ" style="pointer-events: auto;">Q</button>
        <button id="letterR" style="pointer-events: auto;">R</button>
        <button id="letterS" style="pointer-events: auto;">S</button>
        <button id="letterT" style="pointer-events: auto;">T</button>
        <button id="letterU" style="pointer-events: auto;">U</button>
        <button id="letterV" style="pointer-events: auto;">V</button>
        <button id="letterW" style="pointer-events: auto;">W</button>
        <button id="letterX" style="pointer-events: auto;">X</button>
        <button id="letterY" style="pointer-events: auto;">Y</button>
        <button id="letterZ" style="pointer-events: auto;">Z</button>
      </div>
    </div>

    <script>
      const categories = [
        "paard",
        "hond",
        "kat",
        "aap",
        "aubergine",
        "meloen",
        "kiwi",
        "muur",
        "ogen",
        "raam",
        "deur",
        "steen",
        "mountainbike",
      ];

      const verkeerde_letter = [];

      function random(mn, mx) {
        return Math.random() * (mx - mn) + mn;
      }
      let lives = 10;

      let antwoord = categories[Math.floor(random(1, 14)) - 1]; // String
      let geraden_woord = new Array(antwoord.length).fill("_");
      console.log("Hey!", antwoord);

      // for (var i = 0; i < antwoord.length; i++) {
      //   geraden_woord.push("_");
      // }

      console.log(geraden_woord);

      document.getElementById("goed").innerHTML = geraden_woord.join(" ");

      function clickedLetter(event) {
        console.log(event.target.innerHTML);
        let gekozen_letter = event.target.innerHTML.toLowerCase();

        console.log(gekozen_letter);

        geraden_woord = [...geraden_woord].map((chr, idx) => {
          console.log(idx, chr, antwoord[idx], gekozen_letter);
          if (gekozen_letter == antwoord[idx]) {
            return gekozen_letter;
          } else {
            if (
              !(
                antwoord.includes(gekozen_letter) ||
                verkeerde_letter.includes(gekozen_letter)
              )
            ) {
              verkeerde_letter.push(gekozen_letter);
              document.getElementById("vLetter").innerHTML =
                verkeerde_letter.toString();
              updateLives();
            }
          }
          return chr;
        });

        console.log(geraden_woord);
        document.getElementById("goed").innerHTML = geraden_woord.join(" ");

        console.log(document.getElementById("goed"));
      }
      function updateLives() {
        --lives;
        document.getElementById("lives").innerHTML = "Levens:" + lives;
        console.log(lives);
        if(lives == 0) {
        document.getElementById("posButtons").style.pointerEvents = "none";
        let lost = document.getElementById("ifLost");
        lost.showModal();
        }
      }

      document.getElementById("lives").innerHTML = "Levens:" + lives;
    </script>
  </body>
</html>
